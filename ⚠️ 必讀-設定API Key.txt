========================================
  ⚠️ 必讀：設定 OpenAI API Key
========================================

目前錯誤：「請先設定 OpenAI API Key」

這是因為你還沒有設定 OpenAI API Key！

========================================

🔑 什麼是 API Key？
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

API Key 就像是你的「密碼」，讓程式可以使用 OpenAI 的 AI 服務。

沒有 API Key = AI 無法運作 ❌

========================================

📝 如何取得 API Key？
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步驟 1：註冊 OpenAI 帳號
────────────────────────────────────
1. 前往：https://platform.openai.com/
2. 點擊「Sign up」註冊
3. 完成註冊流程

步驟 2：建立 API Key
────────────────────────────────────
1. 登入後，點擊右上角的個人頭像
2. 選擇「API keys」
3. 點擊「Create new secret key」
4. 複製產生的 API Key（只會顯示一次！）
5. 妥善保存這個 Key

⚠️ 重要：
- API Key 只會顯示一次，請立即複製保存
- 不要分享給別人
- 如果遺失，需要重新建立新的 Key

步驟 3：儲值（如果需要）
────────────────────────────────────
- 新帳號通常有免費額度
- 如果免費額度用完，需要儲值才能繼續使用
- 前往：https://platform.openai.com/account/billing


========================================

🔧 如何設定 API Key？
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

方法一：設定 PHP 版本（目前使用）
────────────────────────────────────

1. 用記事本開啟 my_prompt.php

2. 找到第 28 行：
   $apiKey = getenv('OPENAI_API_KEY') ?: 'your-openai-api-key-here';

3. 將 'your-openai-api-key-here' 替換成你的 API Key：
   $apiKey = getenv('OPENAI_API_KEY') ?: 'sk-proj-xxxxxxxxxxxxxxxx';
   
   ⚠️ 注意：保留單引號 ' '

4. 儲存檔案

5. 重新啟動 PHP 伺服器：
   - 關閉命令提示字元視窗
   - 重新執行：php -S localhost:8001


方法二：設定 Python 版本
────────────────────────────────────

1. 用記事本開啟 app.py

2. 找到第 20 行：
   API_KEY = os.getenv('OPENAI_API_KEY', 'your-openai-api-key-here')

3. 將 'your-openai-api-key-here' 替換成你的 API Key：
   API_KEY = os.getenv('OPENAI_API_KEY', 'sk-proj-xxxxxxxxxxxxxxxx')

4. 儲存檔案

5. 重新啟動 Python 伺服器：
   - 關閉命令提示字元視窗
   - 重新執行：python app.py


========================================

✅ 設定完成後
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 重新整理網頁（按 F5）
2. 輸入測試資料
3. 點擊「用 AI 產生建議」
4. 應該就可以正常使用了！


========================================

❓ 常見問題
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Q1: API Key 長什麼樣子？
A: 通常是 sk-proj- 開頭，後面接一長串英文數字
   例如：sk-proj-abc123def456...

Q2: 我沒有 API Key 怎麼辦？
A: 必須先到 OpenAI 官網註冊並建立 API Key
   網址：https://platform.openai.com/

Q3: 使用 AI 要錢嗎？
A: 
   - 新帳號通常有免費額度（約 $5 美金）
   - 免費額度用完後需要儲值
   - 使用 gpt-4o-mini 模型很便宜（每次約 $0.001）

Q4: 如何檢查我的 API Key 是否有效？
A: 
   - 前往：https://platform.openai.com/account/api-keys
   - 查看 Key 的狀態
   - 或直接在網頁中測試，如果能產生建議就表示有效

Q5: 設定後還是不行？
A: 
   1. 確認 API Key 有複製完整（沒有多餘空格）
   2. 確認有儲存檔案
   3. 確認有重新啟動伺服器
   4. 確認 API Key 還有額度
   5. 檢查網路連線


========================================

🔒 安全提醒
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ API Key 就像密碼，請妥善保管！

❌ 不要：
- 分享給別人
- 上傳到公開的網站
- 貼在社群媒體
- 存在不安全的地方

✅ 應該：
- 只存在自己的電腦
- 定期更換
- 如果外洩，立即刪除並建立新的


========================================

📊 費用參考（gpt-4o-mini）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

每次產生建議約：$0.001 美金（約 0.03 台幣）

假設：
- 每天使用 10 次 = $0.01 美金
- 每月使用 300 次 = $0.30 美金（約 10 台幣）

非常便宜！新帳號的免費額度可以用很久。


========================================

🎯 快速檢查清單
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

設定前：
□ 已註冊 OpenAI 帳號
□ 已建立 API Key
□ 已複製並保存 API Key

設定中：
□ 用記事本開啟 my_prompt.php（PHP）或 app.py（Python）
□ 找到正確的行數
□ 替換成自己的 API Key
□ 儲存檔案

設定後：
□ 重新啟動伺服器
□ 重新整理網頁
□ 測試是否能產生建議


========================================

需要更多協助？
請參考：
- README.md（完整說明）
- test_backend.html（測試工具）

========================================

