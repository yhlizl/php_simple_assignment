========================================
  向下兼容說明
========================================

你有舊版本的檔案：
- old_index.html
- old_my_prompt.php

========================================

📊 版本比較
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

舊版本（old_*）：
────────────────────────────────────
- 使用相對路徑：'my_prompt.php'
- 預期 Port：8000（PHP 內建伺服器預設）
- API 端點：http://localhost:8000/my_prompt.php
- 啟動方式：php -S localhost:8000

新版本（目前）：
────────────────────────────────────
- 使用 config.js 配置
- 目前 Port：8000（已統一）
- API 端點：my_prompt.php（相對路徑）
- 啟動方式：php -S localhost:8000


========================================

⚠️ 重要問題（已解決）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Port 8000 被佔用 ✅ 已解決
   - 已停止佔用 Port 8000 的服務
   - 現在可以使用 Port 8000

2. 舊檔案包含真實 API Key ✅ 已清除
   - old_my_prompt.php 已改用環境變數
   - 真實 API Key 已移除


========================================

✅ 解決方案（已完成）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 已採用方案一：統一使用 Port 8000
────────────────────────────────────

完全向下兼容舊版本！

已完成的步驟：

✅ 1. 停止佔用 Port 8000 的服務
   - Docker 已停止或改用其他 Port

✅ 2. 修改 config.js 改回 Port 8000
   - BACKEND: 'php'
   - php: 'my_prompt.php'  // 使用相對路徑

✅ 3. 修改 start_php.bat 使用 Port 8000
   - php -S localhost:8000

✅ 4. 清除舊檔案中的 API Key
   - old_my_prompt.php 已改用環境變數

現在的使用方式：
────────────────────────────────────

1. 啟動 PHP 伺服器：
   php -S localhost:8000

2. 新版本和舊版本都可以使用：
   - 新版本：http://localhost:8000/index.html
   - 舊版本：http://localhost:8000/old_index.html

3. 完全向下兼容！


========================================

🎯 目前配置（已完成）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 已統一使用 Port 8000

優點：
✅ 完全向下兼容
✅ 舊版本和新版本都能正常使用
✅ 符合 PHP 內建伺服器的預設 Port
✅ 不需要額外配置

目前狀態：
✅ config.js：已設定為 Port 8000
✅ start_php.bat：已設定為 Port 8000
✅ old_my_prompt.php：已清除 API Key
✅ 所有文件：已更新為 Port 8000


========================================

⚠️ 安全提醒
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

old_my_prompt.php 包含真實的 API Key！

必須做的事：
1. ❌ 不要使用 old_my_prompt.php
2. ✅ 刪除 old_my_prompt.php 中的 API Key
3. ✅ 使用新版本的 my_prompt.php（已改用環境變數）

或者：
1. 刪除 old_my_prompt.php
2. 只保留 old_index.html 作為參考
3. 統一使用新版本的 my_prompt.php


========================================

📋 使用檢查清單
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 已完成的配置：
✅ 停止佔用 Port 8000 的服務
✅ config.js 已設定為 Port 8000
✅ start_php.bat 已設定為 Port 8000
✅ old_my_prompt.php 已清除 API Key
✅ 所有文件已更新

使用前檢查：
□ 設定 OpenAI API Key
□ 啟動伺服器：php -S localhost:8000
□ 測試新版本：http://localhost:8000/index.html
□ 測試舊版本：http://localhost:8000/old_index.html（可選）


========================================

❓ 常見問題
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Q1: 現在使用什麼 Port？
A: 統一使用 Port 8000，完全向下兼容

Q2: 我可以同時使用新舊版本嗎？
A: 可以！都在 http://localhost:8000
   - 新版本：/index.html
   - 舊版本：/old_index.html

Q3: old_my_prompt.php 可以刪除嗎？
A: 可以！新版本的 my_prompt.php 功能更完整
   old_my_prompt.php 只是保留作為參考

Q4: 如何確認向下兼容？
A: 測試 old_index.html 能否正常使用即可
   http://localhost:8000/old_index.html

Q5: 如果 Port 8000 還是被佔用怎麼辦？
A: 用 lsof -i :8000 查看是什麼程式
   停止該程式或改用其他 Port


========================================

✅ 總結
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

問題：舊版本使用 Port 8000，需要向下兼容
解決：✅ 已統一使用 Port 8000

狀態：✅ 完全向下兼容

下一步：
1. 設定 OpenAI API Key
2. 啟動伺服器：php -S localhost:8000
3. 測試新版本：http://localhost:8000/index.html
4. 測試舊版本：http://localhost:8000/old_index.html（可選）

========================================

