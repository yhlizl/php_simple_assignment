========================================
  如何切換 Python 和 PHP 後端
========================================

本專案支援兩種後端：
1. Python Flask（推薦）- Port 8787
2. PHP - Port 8000

預設使用 Python 後端。

========================================

方法一：修改 config.js（推薦）⭐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 用記事本開啟 config.js

2. 找到第 10 行：
   BACKEND: 'python',

3. 修改為：
   - 使用 Python：BACKEND: 'python',
   - 使用 PHP：BACKEND: 'php',

4. 儲存檔案

5. 重新整理瀏覽器頁面

✅ 完成！頁面右上角會顯示當前使用的後端


========================================

方法二：直接修改 index.html
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

如果不想使用 config.js，可以直接修改 index.html：

1. 用記事本開啟 index.html

2. 找到第 616 行附近：
   const apiEndpoint = CONFIG.getApiEndpoint();

3. 替換為：
   - Python 版本：
     const apiEndpoint = 'http://localhost:8787/api/generate';
   
   - PHP 版本：
     const apiEndpoint = 'my_prompt.php';

4. 儲存檔案

5. 重新整理瀏覽器頁面


========================================

啟動對應的後端伺服器
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【Python 版本】

Windows:
  雙擊 start_python.bat

Mac/Linux:
  python3 app.py

或:
  ./start.sh


【PHP 版本】

Windows:
  雙擊 start_php.bat

Mac/Linux:
  php -S localhost:8000


========================================

測試後端是否正常運作
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

方法一：使用測試工具（推薦）
  用瀏覽器開啟 test_backend.html
  點擊對應的測試按鈕

方法二：手動測試
  1. 啟動後端伺服器
  2. 開啟主程式 (index.html)
  3. 輸入測試資料
  4. 點擊「用 AI 產生建議」
  5. 檢查是否成功產生建議


========================================

常見問題
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Q1: 切換後端後，頁面沒有反應？
A: 請重新整理瀏覽器頁面（按 F5 或 Ctrl+R）

Q2: 顯示「連線失敗」？
A: 請確認：
   1. 對應的後端伺服器已啟動
   2. Port 沒有被其他程式佔用
   3. 防火牆沒有阻擋連線

Q3: Python 和 PHP 版本有什麼差別？
A: 功能完全相同，只是技術實作不同
   - Python 版本：更現代、更容易安裝
   - PHP 版本：傳統方式、需要 PHP 環境

Q4: 可以同時啟動兩個後端嗎？
A: 可以！它們使用不同的 Port，不會衝突
   - Python: Port 8787
   - PHP: Port 8000

Q5: 如何確認當前使用哪個後端？
A: 查看頁面右上角的「後端」標籤
   或開啟瀏覽器開發者工具（F12）查看 Console


========================================

推薦配置
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

對於大多數使用者，建議：

✅ 使用 Python 後端
✅ 保持 config.js 預設設定（BACKEND: 'python'）
✅ 使用 start_python.bat 啟動

理由：
- 安裝簡單（只需要 Python）
- 不需要 XAMPP 等複雜工具
- 效能更好
- 錯誤訊息更清楚


========================================

進階：使用環境變數設定 API Key
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【Python 版本】

Windows:
  1. 建立 .env 檔案
  2. 內容：OPENAI_API_KEY=你的API金鑰
  3. 啟動時會自動讀取

Mac/Linux:
  export OPENAI_API_KEY=你的API金鑰
  python3 app.py


【PHP 版本】

Windows:
  setx OPENAI_API_KEY "你的API金鑰"
  重新啟動命令提示字元

Mac/Linux:
  export OPENAI_API_KEY=你的API金鑰
  php -S localhost:8000


========================================

檔案說明
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

config.js - 後端配置檔案
index.html - 主程式（前端）
app.py - Python 後端
my_prompt.php - PHP 後端
test_backend.html - 後端測試工具
start_python.bat - Python 啟動腳本（Windows）
start_php.bat - PHP 啟動腳本（Windows）


========================================

需要協助？
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 使用 test_backend.html 測試後端
2. 查看 README.md 的常見問題章節
3. 執行 check_setup.bat 檢查環境
4. 查看瀏覽器開發者工具的 Console（F12）

========================================

